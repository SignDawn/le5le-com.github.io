# 灯光
灯光也是场景中不必可少的组成元素，它直接影响到模型呈现出的颜色，参考现实世界，如果没有灯光，物体就会一片漆黑。在场景被创建时会默认添加一个半球光，它的作用类似于环境光，可以保证模型基本的颜色显示。当然，您可以根据需求在场景中任意添加或者删除灯光。

我们内置提供了四种灯光，它们分别是半球光、定向光、点光源、聚光灯。

## 半球光
半球光通常用来模拟环境光，光源从很远的地方照射，光线平行的发往指定的方向，范围无限大，和太阳光很类似。物体朝向光源的面被照亮，侧面则呈现暗色，背向光源的面则是黑色，类似现实的物体在太阳光下的状态。

半球光没有位置属性，它的光照方向取决于方向坐标点，且沿着方向坐标点射向坐标原点。例如半球光的方向坐标为(0, 1, 0)，那么光线在场景中就是从Y轴的正方向射向Y轴的负方向的，如果方向坐标为(0, -1, 0)，那么光线就是反过来，从Y轴的负方向射向Y轴的正方向。

## 定向光
定向光与半球光非常类似，但是在物体上呈现的效果有些许不同。物体朝向光源的面被照亮，其余的面呈现黑色，效果类似于被太阳光照射的星球，朝向太阳的面是亮的，背向太阳的一面很暗，中间有一道比较明显的分隔线。而半球光在物体上的暗色范围要大很多。

定向光的属性与半球光也基本类似，但是有一个很重要的区别。虽然它们都是由方向坐标点来决定光照的方向，但是表现出来的效果却完全相反。定向光的光线是沿着坐标原点射向方向坐标点的，这与半球光正好相反，在设置的时候请格外注意。

## 点光源
顾名思义，点光源就是光源在一个点向四周发射光线，很典型的例子就是白炽灯泡和路灯。它可以照亮周围指定范围内的模型，并且模型至光源的距离越大，光线的强度就越小。点光源可以任意调整位置和光照范围，因此它常用来做模型的局部光源。

## 聚光灯
聚光灯可以从光源位置朝指定方向照亮一定角度、一定范围内的模型，光照范围类似一个锥体，典型的例子就是手电筒。与点光源类似，聚光灯的光线强度也随着距离的增大而发生衰减。聚光灯的光照效果由位置、方向、角度、范围、衰减度等共同定义，是比较复杂的一种灯光。

## 添加灯光
在平台中添加一个灯光的方法也非常简单，在资源管理栏中，点击模型选项卡，打开基础灯光文件夹，您就可以拖拽您想到的灯光到场景中。

由于灯光不像模型那样有实体，在编辑状态下会有辅助的灯光模型来帮助编辑。在运行状态下辅助模型会被隐藏。

## 删除灯光
在编辑状态下，下列操作可以删除灯光：
- 选中场景内的灯光辅助模型，按Delete/Backspace
- 在结构列表中点击灯光节点项后的删除按钮3

## 灯光颜色
四种灯光有都有两个颜色属性：漫反射色和高光色。这两个属性的区别有一种比较简单的理解方法，我们可以把光源和光线当成两种不同的对象，举个例子，手电筒的光源是里面的灯泡，而光线是由灯泡发出的一条条射线。在现实世界中，灯泡的颜色往往和光线的颜色是相同的，白色的灯泡发出白光，红色的灯泡发出红光。但是在代码世界中，灯泡的颜色可以和光线的颜色不一样，灯泡是白色的，但是光线可以是红色的，灯泡是红色的，但是光线可以是白色的。而漫反射色指的就是光线的颜色，高光色指的就是灯泡的颜色。光线打到物体上，物体就会呈现出漫反射色的颜色，而物体表面同时可以“倒映”出光源，呈现一块高亮的区域，这个区域的颜色就是高光色的颜色。

当然，灯光颜色只是影响模型颜色的因素之一，模型最终呈现的颜色是经过着色器处理的。而且对于单个材质来说，默认情况下只能同时处理四个灯光的颜色，这也是出于性能方面考虑的限制。

## 灯光配置项
### 位置
灯光光源所在位置坐标点。

**类型**

number

**默认值**
``

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

:::warning 注意
定向光、半球光没有此配置项，它们的位置相当于固定在坐标原点。
:::

### 方向
光线照射的方向。

**类型**

number

**默认值**
``

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

:::warning 注意
点光源没有此配置项，它朝四周发射光线。
:::

### 漫反射色
光线照射到物体上反射的颜色。

**类型**

string

**默认值**
`'rgba(255, 255, 255, 1)'`

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

### 高光色
光源在物体上投射的颜色。

**类型**

string

**默认值**
`'rgba(255, 255, 255, 1)'`

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

### 强度
光照的亮度。

**类型**

number

**默认值**
`1`

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

### 范围
灯光可照射的距离，超出范围的模型不会受光源的影响。

**类型**

number

**默认值**
`5`

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

:::warning 注意
半球光、定向光没有此配置项，它们的范围默认为最大。
:::

### 角度
聚光灯光照的圆锥角。

**类型**

number

**默认值**
`90`

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

:::warning 注意
只有聚光灯有此配置项。
:::

### 衰减度
光线的强度随着距离的增加而减弱的程度。值越大，光线强度衰减程度越高，值越小，光线强度衰减程度越低。

**类型**

number

**默认值**
`0.05`

**可以设置动画**

是

**可以通过事件/自定义数据/动态数据改变属性值**

是

:::warning 注意
只有聚光灯有此配置项。
:::
